<head>
  <title>waitless</title>
</head>

<body>
  {{#if currentUser}}
    {{> loggedIn}}
  {{else}}
    {{> loggedOut}}
  {{/if}}
</body>

<template name="loggedOut">
  <h1>Logged Out</h1>
  {{loginButtons}}
</template>

<template name="loggedIn">
  <h1>Logged In</h1>
  {{loginButtons}}

  {{#if partial 'home'}}
  	{{> home}}
  {{else}} {{#if partial 'profile'}}
  	{{> profile}}
  {{else}} {{#if partial 'createStore'}}
  	{{> createStore}}
  {{else}} {{#if partial 'createProduct'}}
  	{{> createProduct}}
  {{else}} {{#if partial 'createOrder'}}
  	{{> createOrder}}
  {{/if}} {{/if}} {{/if}} {{/if}} {{/if}}
</template>

<template name="home">
  <h2>HOME</h2>
  <button class="goto-create-order">Create Order</button>
  <button class="goto-profile">Go to profile</button>
</template>

<template name="profile">
  <h2>Profile</h2>
  <button class="goto-home">Go Home</button>
  <button class="goto-create-store">Create Store</button>
  <button class="goto-create-product">Create Product</button>
</template>

<template name="createStore">
  <h2>Create Store</h2>
  <button class="goto-home">Go Home</button>
</template>

<template name="createProduct">
  <h2>Create Product</h2>
  <button class="goto-home">Go Home</button>
</template>

<template name="createOrder">
  <h2>Create Order</h2>
  <div id="choose_store" class="active">
    <h4>Stores</h4>
    {{> stores}}
  </div>
  <button class="goto-home">Go Home</button>
</template>

<template name="stores">
  <ul id="stores_list">
    {{#each stores}}
      <li class="select-store" data-test="{{_id}}" style="cursor: pointer">{{_id}} - {{name}} - {{location}}</li>
    {{/each}}
  </ul>
</template>
